"use strict";(self.webpackChunkai=self.webpackChunkai||[]).push([[785],{3905:function(e,n,t){t.d(n,{Zo:function(){return i},kt:function(){return m}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),l=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},i=function(e){var n=l(e.components);return a.createElement(p.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,p=e.parentName,i=c(e,["components","mdxType","originalType","parentName"]),u=l(t),m=r,b=u["".concat(p,".").concat(m)]||u[m]||d[m]||s;return t?a.createElement(b,o(o({ref:n},i),{},{components:t})):a.createElement(b,o({ref:n},i))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,o=new Array(s);o[0]=u;var c={};for(var p in n)hasOwnProperty.call(n,p)&&(c[p]=n[p]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var l=2;l<s;l++)o[l]=t[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},3039:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return c},contentTitle:function(){return p},metadata:function(){return l},toc:function(){return i},default:function(){return u}});var a=t(7462),r=t(3366),s=(t(7294),t(3905)),o=["components"],c={sidebar_position:4},p="Install Db2 on Red Hat Openshift",l={unversionedId:"c4pd/install_db2_ocp",id:"c4pd/install_db2_ocp",isDocsHomePage:!1,title:"Install Db2 on Red Hat Openshift",description:"If you are using CP4D (Client Pak for Data), refer Db2 on Cloud Pak for Data page to install Db2 service.",source:"@site/docs/c4pd/install_db2_ocp.md",sourceDirName:"c4pd",slug:"/c4pd/install_db2_ocp",permalink:"/ai/docs/c4pd/install_db2_ocp",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/c4pd/install_db2_ocp.md",version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Creating DB2 and DMC instance",permalink:"/ai/docs/c4pd/creating_db2_dmc"},next:{title:"DMC Pods failure status",permalink:"/ai/docs/c4pd/pd/dmc_pod_failure"}},i=[{value:"Install Db2 Operator",id:"install-db2-operator",children:[{value:"Enable IBM operator",id:"enable-ibm-operator",children:[]},{value:"Install Db2 operator",id:"install-db2-operator-1",children:[]}]},{value:"Deploy Db2 service",id:"deploy-db2-service",children:[{value:"Create a storage class",id:"create-a-storage-class",children:[]},{value:"Deploy Db2 service using <code>Db2UClusetrs</code> api",id:"deploy-db2-service-using-db2uclusetrs-api",children:[]}]},{value:"MISC.",id:"misc",children:[{value:"Storage class not configured",id:"storage-class-not-configured",children:[]}]}],d={toc:i};function u(e){var n=e.components,c=(0,r.Z)(e,o);return(0,s.kt)("wrapper",(0,a.Z)({},d,c,{components:n,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"install-db2-on-red-hat-openshift"},"Install Db2 on Red Hat Openshift"),(0,s.kt)("p",null,"If you are using CP4D (Client Pak for Data), refer ",(0,s.kt)("a",{parentName:"p",href:"https://www.ibm.com/docs/en/cloud-paks/cp-data/4.5.x?topic=services-db2"},"Db2 on Cloud Pak for Data")," page to install Db2 service.",(0,s.kt)("br",{parentName:"p"}),"\n","This page describes steps to install DB2 service on Openshift manually apart from CP4D.",(0,s.kt)("br",{parentName:"p"}),"\n","However, technical detail is similar using ",(0,s.kt)("inlineCode",{parentName:"p"},"Db2 operator"),".",(0,s.kt)("br",{parentName:"p"}),"\n","Before deploying Db2 service, ",(0,s.kt)("inlineCode",{parentName:"p"},"Db2 operator")," needs to be installed in advance.",(0,s.kt)("br",{parentName:"p"}),"\n","If you have the operator already in your OCP, you can go skip ",(0,s.kt)("inlineCode",{parentName:"p"},"Db2 operator")," installation and go ahead deploying ",(0,s.kt)("inlineCode",{parentName:"p"},"Db2 service"),".      "),(0,s.kt)("p",null,"The steps here is based on DB2 Knowledge center page ",(0,s.kt)("a",{parentName:"p",href:"https://www.ibm.com/docs/en/db2/11.5?topic=1157-installing-db2"},"Reference maual"),(0,s.kt)("br",{parentName:"p"}),"\n","and also refer to ",(0,s.kt)("a",{parentName:"p",href:"https://www.ibm.com/docs/en/db2/11.5?topic=deployments-db2-red-hat-openshift"},"Compatibility")," for Db2 operator versions and DB2 versions.     "),(0,s.kt)("p",null,"Steps here start from an empty Red Hat openshift where there are no IBM/Db2 related resources.     "),(0,s.kt)("h2",{id:"install-db2-operator"},"Install Db2 Operator"),(0,s.kt)("h3",{id:"enable-ibm-operator"},"Enable IBM operator"),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"Db2 operator")," is the part ",(0,s.kt)("inlineCode",{parentName:"p"},"IBM operator"),". Therefore, enable ",(0,s.kt)("inlineCode",{parentName:"p"},"IBM operator")," first.     "),(0,s.kt)("p",null,"Click ",(0,s.kt)("inlineCode",{parentName:"p"},"+")," button at the right top and paste the following yaml, then ",(0,s.kt)("inlineCode",{parentName:"p"},"Create"),".      "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: operators.coreos.com/v1alpha1\nkind: CatalogSource\nmetadata:\n  name: ibm-operator-catalog\n  namespace: openshift-marketplace\nspec:\n  displayName: "IBM Operator Catalog" \n  publisher: IBM\n  sourceType: grpc\n  image: icr.io/cpopen/ibm-operator-catalog\n  updateStrategy:\n    registryPoll:\n      interval: 45m\n')),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Enable IBM operator",src:t(7920).Z}),"  "),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"IBM Operator")," is created.  "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Enable IBM operator result",src:t(3726).Z}),"  "),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"Provider")," menu will show ",(0,s.kt)("inlineCode",{parentName:"p"},"IBM Operator")," catalogue that includes ",(0,s.kt)("inlineCode",{parentName:"p"},"Db2 operator"),".     "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Enable IBM operator catalogue",src:t(3525).Z}),"  "),(0,s.kt)("p",null,"Check if ",(0,s.kt)("inlineCode",{parentName:"p"},"IBM operator")," is enabled.    "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"[root@api.jscp4d.cp.fyre.ibm.com ~]# oc get all -A |grep -i operator |grep -i ibm\nopenshift-marketplace                              pod/ibm-operator-catalog-2klhk                                      1/1     Running     0               6m7s\nopenshift-marketplace                              service/ibm-operator-catalog                       ClusterIP      172.30.42.206    <none>                                 50051/TCP                             6m7s\n")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"[root@api.jscp4d.cp.fyre.ibm.com ~]# oc get CatalogSources ibm-operator-catalog -n openshift-marketplace\nNAME                   DISPLAY                TYPE   PUBLISHER   AGE\nibm-operator-catalog   IBM Operator Catalog   grpc   IBM         24m\n")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"[root@api.jscp4d.cp.fyre.ibm.com ~]# oc get catalogsource,pods -n openshift-marketplace\nNAME                                                      DISPLAY                TYPE   PUBLISHER   AGE\ncatalogsource.operators.coreos.com/certified-operators    Certified Operators    grpc   Red Hat     4h24m\ncatalogsource.operators.coreos.com/community-operators    Community Operators    grpc   Red Hat     4h24m\ncatalogsource.operators.coreos.com/ibm-operator-catalog   IBM Operator Catalog   grpc   IBM         27m\ncatalogsource.operators.coreos.com/redhat-marketplace     Red Hat Marketplace    grpc   Red Hat     4h24m\ncatalogsource.operators.coreos.com/redhat-operators       Red Hat Operators      grpc   Red Hat     4h24m\n\nNAME                                        READY   STATUS    RESTARTS        AGE\npod/certified-operators-5fp5l               1/1     Running   0               4h24m\npod/community-operators-z42q9               1/1     Running   0               4h24m\npod/ibm-operator-catalog-2klhk              1/1     Running   0               27m\npod/marketplace-operator-5bd7c86474-hjwk2   1/1     Running   1 (4h18m ago)   4h27m\npod/redhat-marketplace-gdmsl                1/1     Running   0               4h6m\npod/redhat-operators-xrwlk                  1/1     Running   0               4h24m\n")),(0,s.kt)("h3",{id:"install-db2-operator-1"},"Install Db2 operator"),(0,s.kt)("p",null,"Find ",(0,s.kt)("inlineCode",{parentName:"p"},"Db2 operator")," from IBM operator catalogue.   "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Find Db2 operator",src:t(2330).Z}),"  "),(0,s.kt)("p",null,"Install ",(0,s.kt)("inlineCode",{parentName:"p"},"Db2 operator")," .    "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Install Db2 operator",src:t(4730).Z}),"   "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Install Db2 operator",src:t(227).Z}),"    "),(0,s.kt)("p",null,"Red Hat openshift console page shows the progress. Wait until it's ready. (Expect it takes few minutes.)     "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Install Db2 operator",src:t(277).Z}),"   "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Install Db2 operator",src:t(8585).Z}),"    "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Install Db2 operator",src:t(8935).Z}),"    "),(0,s.kt)("p",null,"Once finished, ",(0,s.kt)("inlineCode",{parentName:"p"},"Installed Operator")," shows ",(0,s.kt)("inlineCode",{parentName:"p"},"Db2 operator"),".     "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Install Db2 operator",src:t(1212).Z}),"    "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Install Db2 operator",src:t(9391).Z}),"    "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Install Db2 operator",src:t(5873).Z}),"    "),(0,s.kt)("p",null,"Check if the subscription is configured and  ",(0,s.kt)("inlineCode",{parentName:"p"},"db2u-operator")," is running.      "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"[root@api.jscp4d.cp.fyre.ibm.com util]#  oc get sub -A\nNAMESPACE             NAME            PACKAGE         SOURCE                 CHANNEL\nopenshift-operators   db2u-operator   db2u-operator   ibm-operator-catalog   v2.1\n")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"[root@api.jscp4d.cp.fyre.ibm.com ~]# oc get all -A |grep -i db2\nopenshift-operators                                pod/db2u-operator-manager-7c86548cd8-c8gkw                            1/1     Running     0               6m40s\nopenshift-operators                                deployment.apps/db2u-operator-manager                       1/1     1            1           6m40s\nopenshift-operators                                replicaset.apps/db2u-operator-manager-7c86548cd8                       1         1         1       6m40s\n")),(0,s.kt)("h2",{id:"deploy-db2-service"},"Deploy Db2 service"),(0,s.kt)("h3",{id:"create-a-storage-class"},"Create a storage class"),(0,s.kt)("p",null,"If there is no configured storage class resource, Db2 deployement will fail waiting for a storage class to be bound.",(0,s.kt)("br",{parentName:"p"}),"\n","Therefore create a storage class.    "),(0,s.kt)("p",null,"You can check if there is a definned storage class.",(0,s.kt)("br",{parentName:"p"}),"\n","In this example, there is one ",(0,s.kt)("inlineCode",{parentName:"p"},"managed-nfs-storage")," ready.       "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"[root@api.jscp4d.cp.fyre.ibm.com util]# oc get sc -A\nNAME                  PROVISIONER                                   RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE\nmanaged-nfs-storage   k8s-sigs.io/nfs-subdir-external-provisioner   Delete          Immediate           false                  21m\n")),(0,s.kt)("h3",{id:"deploy-db2-service-using-db2uclusetrs-api"},"Deploy Db2 service using ",(0,s.kt)("inlineCode",{parentName:"h3"},"Db2UClusetrs")," api"),(0,s.kt)("p",null,"Db2 operator page on Red Hat web console provides the interface to prepare yaml input to ",(0,s.kt)("inlineCode",{parentName:"p"},"Db2UClusters")," api.           "),(0,s.kt)("p",null,"You can check the API specs.    "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},'[root@api.jscp4d.cp.fyre.ibm.com ~]# oc api-resources  |egrep -i "^NAME|db2"\nNAME                                  SHORTNAMES          APIVERSION                                    NAMESPACED   KIND\nnamespaces                            ns                  v1                                            false        Namespace\nbigsqls                                                   db2u.databases.ibm.com/v1alpha1               true         BigSQL\ndb2uclusters                          db2u                db2u.databases.ibm.com/v1                     true         Db2uCluster    <=========\ndb2uhadrs                                                 db2u.databases.ibm.com/v1alpha1               true         Db2uHadr\ndb2uhelmmigrations                                        db2u.databases.ibm.com/v1alpha1               true         Db2uHelmMigration\nformationlocks                                            db2u.databases.ibm.com/v1                     true         FormationLock\nformations                                                db2u.databases.ibm.com/v1                     true         Formation\n\n[root@api.jscp4d.cp.fyre.ibm.com ~]# kubectl explain db2u\nKIND:     Db2uCluster\nVERSION:  db2u.databases.ibm.com/v1\n\nDESCRIPTION:\n..\n\n[root@api.jscp4d.cp.fyre.ibm.com ~]# kubectl explain db2u.spec\nKIND:     Db2uCluster\nVERSION:  db2u.databases.ibm.com/v1\n\nRESOURCE: spec <Object>\n\nDESCRIPTION:\n     <empty>\n\nFIELDS:\n   account  <Object>\n\n   addOns   <Object>\n\n   advOpts  <>\n\n   affinity <Object>\n\n   environment  <Object>\n\n   license  <Object>\n\n   podConfig    <map[string]Object>\n\n   size <integer> -required-\n\n   storage  <[]Object>\n\n   tolerations  <[]Object>\n\n   vaults   <[]Object>\n\n   version  <string> -required-\n\n   volumeSources    <[]Object>\n\n')),(0,s.kt)("p",null,"Click ",(0,s.kt)("inlineCode",{parentName:"p"},"Create instance"),".   "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Deploy Db2",src:t(2e3).Z}),"    "),(0,s.kt)("p",null,"Fill in and select preferences in each section.   "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Deploy Db2",src:t(5566).Z}),"     "),(0,s.kt)("p",null,"Select the license agreement.",(0,s.kt)("br",{parentName:"p"}),"\n",(0,s.kt)("img",{alt:"Deploy Db2",src:t(9157).Z}),"    "),(0,s.kt)("p",null,"Configure ",(0,s.kt)("inlineCode",{parentName:"p"},"Storage"),".",(0,s.kt)("br",{parentName:"p"}),"\n","This section is about creating ",(0,s.kt)("inlineCode",{parentName:"p"},"Persistent Volumes Claim(PVC)"),".",(0,s.kt)("br",{parentName:"p"}),"\n","If not specified, it will create a default claim.",(0,s.kt)("br",{parentName:"p"}),"\n","However, there should be a storage class to be bound in advance.     "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Deploy Db2",src:t(2149).Z}),"    "),(0,s.kt)("p",null,"Once selected all sections, review ",(0,s.kt)("inlineCode",{parentName:"p"},"YAML view")," then ",(0,s.kt)("inlineCode",{parentName:"p"},"Create")," if all are good to go.      "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Deploy Db2",src:t(2932).Z}),"    "),(0,s.kt)("p",null,"Then Red Hat console page shows the progress.     "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Deploy Db2",src:t(5852).Z}),"    "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Deploy Db2",src:t(7918).Z}),"    "),(0,s.kt)("p",null,"On bastian infrastructure node, monitor Db2 related resources to be ",(0,s.kt)("inlineCode",{parentName:"p"},"Running")," status.    "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"[root@api.jscp4d.cp.fyre.ibm.com util]# oc get all -A |grep -i db2\nopenshift-operators                                pod/c-db2ucluster-sample-db2u-0                                       1/1     Running     0               20m\nopenshift-operators                                pod/c-db2ucluster-sample-etcd-0                                       1/1     Running     0               20m\nopenshift-operators                                pod/c-db2ucluster-sample-instdb-sdsj4                                 0/1     Completed   0               51m\nopenshift-operators                                pod/c-db2ucluster-sample-ldap-6b84c4c556-kbdvc                        1/1     Running     0               51m\nopenshift-operators                                pod/c-db2ucluster-sample-restore-morph-n2qdk                          0/1     Completed   0               12m\nopenshift-operators                                pod/db2u-operator-manager-7c86548cd8-c8gkw                            1/1     Running     0               116m\nopenshift-operators                                service/c-db2ucluster-sample-db2u                  ClusterIP      172.30.34.225    <none>                                 50000/TCP,50001/TCP,25000/TCP,25001/TCP,25002/TCP,25003/TCP,25004/TCP,25005/TCP   20m\nopenshift-operators                                service/c-db2ucluster-sample-db2u-engn-svc         NodePort       172.30.202.128   <none>                                 50000:31389/TCP,50001:30679/TCP                                                   20m\nopenshift-operators                                service/c-db2ucluster-sample-db2u-head-engn-svc    NodePort       172.30.48.134    <none>                                 50000:31521/TCP,50001:32330/TCP                                                   20m\nopenshift-operators                                service/c-db2ucluster-sample-db2u-internal         ClusterIP      None             <none>                                 50000/TCP,9443/TCP,50052/TCP                                                      20m\nopenshift-operators                                service/c-db2ucluster-sample-etcd                  ClusterIP      None             <none>                                 2379/TCP,2380/TCP                                                                 20m\nopenshift-operators                                service/c-db2ucluster-sample-ldap                  ClusterIP      172.30.121.103   <none>                                 50389/TCP                                                                         51m\nopenshift-operators                                deployment.apps/c-db2ucluster-sample-ldap                   1/1     1            1           51m\nopenshift-operators                                deployment.apps/db2u-operator-manager                       1/1     1            1           116m\nopenshift-operators                                replicaset.apps/c-db2ucluster-sample-ldap-6b84c4c556                   1         1         1       51m\nopenshift-operators                                replicaset.apps/db2u-operator-manager-7c86548cd8                       1         1         1       116m\nopenshift-operators    statefulset.apps/c-db2ucluster-sample-db2u   1/1     20m\nopenshift-operators    statefulset.apps/c-db2ucluster-sample-etcd   1/1     20m\nopenshift-operators                    job.batch/c-db2ucluster-sample-instdb                                       1/1           30m        51m\nopenshift-operators                    job.batch/c-db2ucluster-sample-restore-morph                                1/1           3m19s      12m\n\n\n[root@api.jscp4d.cp.fyre.ibm.com ~]# kubectl get all --show-labels |grep db2u\npod/c-db2ucluster-sample-db2u-0                  1/1     Running     0          23h   app=db2ucluster-sample,component=db2oltp,controller-revision-hash=c-db2ucluster-sample-db2u-799d4c48bc,formation_id=db2ucluster-sample,name=dashmpp-head-0,role=db,statefulset.kubernetes.io/pod-name=c-db2ucluster-sample-db2u-0,type=engine\n...\n\n[root@api.jscp4d.cp.fyre.ibm.com ~]# kubectl get all --selector app=db2ucluster-s\nNAME                                             READY   STATUS      RESTARTS   AGE\npod/c-db2ucluster-sample-db2u-0                  1/1     Running     0          23h\npod/c-db2ucluster-sample-etcd-0                  1/1     Running     0          23h\npod/c-db2ucluster-sample-instdb-sdsj4            0/1     Completed   0          24h\npod/c-db2ucluster-sample-ldap-6b84c4c556-kbdvc   1/1     Running     0          24h\npod/c-db2ucluster-sample-restore-morph-n2qdk     0/1     Completed   0          23h\n\nNAME                                              TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                                                                           AGE\nservice/c-db2ucluster-sample-db2u                 ClusterIP   172.30.34.225    <none>        50000/TCP,50001/TCP,25000/TCP,25001/TCP,25002/TCP,25003/TCP,25004/TCP,25005/TCP   23h\nservice/c-db2ucluster-sample-db2u-engn-svc        NodePort    172.30.202.128   <none>        50000:31389/TCP,50001:30679/TCP                                                   23h\nservice/c-db2ucluster-sample-db2u-head-engn-svc   NodePort    172.30.48.134    <none>        50000:31521/TCP,50001:32330/TCP                                                   23h\nservice/c-db2ucluster-sample-db2u-internal        ClusterIP   None             <none>        50000/TCP,9443/TCP,50052/TCP                                                      23h\nservice/c-db2ucluster-sample-etcd                 ClusterIP   None             <none>        2379/TCP,2380/TCP                                                                 23h\nservice/c-db2ucluster-sample-ldap                 ClusterIP   172.30.121.103   <none>        50389/TCP                                                                         24h\n\nNAME                                        READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/c-db2ucluster-sample-ldap   1/1     1            1           24h\n\nNAME                                                   DESIRED   CURRENT   READY   AGE\nreplicaset.apps/c-db2ucluster-sample-ldap-6b84c4c556   1         1         1       24h\n\nNAME                                         READY   AGE\nstatefulset.apps/c-db2ucluster-sample-db2u   1/1     23h\nstatefulset.apps/c-db2ucluster-sample-etcd   1/1     23h\n\nNAME                                           COMPLETIONS   DURATION   AGE\njob.batch/c-db2ucluster-sample-instdb          1/1           30m        24h\njob.batch/c-db2ucluster-sample-restore-morph   1/1           3m19s      23h\n\n")),(0,s.kt)("p",null,"In this example, ",(0,s.kt)("inlineCode",{parentName:"p"},"c-db2ucluster-sample-db2u-0")," is the database resource.",(0,s.kt)("br",{parentName:"p"}),"\n","Check the history of the creation.",(0,s.kt)("br",{parentName:"p"}),"\n","It shows the actual running worker node and last events.     "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-yaml"},'[root@api.jscp4d.cp.fyre.ibm.com util]# oc describe pod c-db2ucluster-sample-db2u-0\nName:         c-db2ucluster-sample-db2u-0\nNamespace:    openshift-operators\nPriority:     0\nNode:         worker2.jscp4d.cp.fyre.ibm.com/10.17.29.5     <====\nStart Time:   Thu, 15 Sep 2022 23:10:47 -0700\nLabels:       app=db2ucluster-sample\n              component=db2oltp\n              controller-revision-hash=c-db2ucluster-sample-db2u-799d4c48bc\n              formation_id=db2ucluster-sample\n              name=dashmpp-head-0\n              role=db\n              statefulset.kubernetes.io/pod-name=c-db2ucluster-sample-db2u-0\n              type=engine\nAnnotations:  k8s.v1.cni.cncf.io/network-status:\n                [{\n                    "name": "openshift-sdn",\n                    "interface": "eth0",\n                    "ips": [\n                        "10.254.20.11"\n                    ],\n                    "default": true,\n                    "dns": {}\n                }]\n              k8s.v1.cni.cncf.io/networks-status:\n                [{\n                    "name": "openshift-sdn",\n                    "interface": "eth0",\n                    "ips": [\n                        "10.254.20.11"\n                    ],\n                    "default": true,\n                    "dns": {}\n                }]\n              openshift.io/scc: openshift-operators-c-db2ucluster-sample-scc\nStatus:       Running\nIP:           10.254.20.11\nIPs:\n  IP:           10.254.20.11\nControlled By:  StatefulSet/c-db2ucluster-sample-db2u\nInit Containers:\n  init-labels:\n    Container ID:  cri-o://80ee2e53f6588f78362cf8060aa9c57ab4ec578be9bf64e478b649a0c171eb0b\n    Image:         icr.io/db2u/db2u.tools@sha256:29dbf32fc8ac1e7cb019d0caa3cce5616ecc23a87e329b7c73be9f9abde743be\n    Image ID:      icr.io/db2u/db2u.tools@sha256:29dbf32fc8ac1e7cb019d0caa3cce5616ecc23a87e329b7c73be9f9abde743be\n    Port:          <none>\n    Host Port:     <none>\n    Command:\n      bash\n      -ec\n      /tools/pre-install/db2u_init.sh ${MLN_TOTAL} ${REPLICAS}\n    State:          Terminated\n      Reason:       Completed\n      Exit Code:    0\n      Started:      Thu, 15 Sep 2022 23:11:57 -0700\n      Finished:     Thu, 15 Sep 2022 23:11:59 -0700\n    Ready:          True\n    Restart Count:  0\n    Limits:\n      cpu:                500m\n      ephemeral-storage:  5Mi\n      memory:             256Mi\n    Requests:\n      cpu:                100m\n      ephemeral-storage:  1Mi\n      memory:             50Mi\n    Environment:\n      SERVICENAME:                c-db2ucluster-sample-db2u\n      DB2TYPE:                    db2oltp\n      POD_NAME:                   c-db2ucluster-sample-db2u-0 (v1:metadata.name)\n      POD_NAMESPACE:              openshift-operators (v1:metadata.namespace)\n      MLN_TOTAL:                  1\n      REPLICAS:                   1\n      SERVICE_NAME:               c-db2ucluster-sample-db2u-internal\n      DB2U_API_ENDPOINT:          c-db2ucluster-sample-db2u-internal.openshift-operators.svc:50052\n      DB2U_API_DATABASE_BACKEND:  k8s\n      DB2U_API_CONFIGMAP_NAME:    c-db2ucluster-sample-db2u-api\n      DB2U_API_KEY_FILE:          /secrets/certs/db2u-api/tls.key\n      DB2U_API_CERT_FILE:         /secrets/certs/db2u-api/tls.crt\n    Mounts:\n      /mnt/blumeta0 from data (rw)\n      /mnt/blumeta0/configmap/db2u from db2uconfig (ro)\n      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-7c8cn (ro)\n  init-kernel:\n    Container ID:  cri-o://af22ea1b885c491779bb6e30bff412e44567d9fff856b13c7072e2429da90812\n    Image:         icr.io/db2u/db2u.tools@sha256:29dbf32fc8ac1e7cb019d0caa3cce5616ecc23a87e329b7c73be9f9abde743be\n    Image ID:      icr.io/db2u/db2u.tools@sha256:29dbf32fc8ac1e7cb019d0caa3cce5616ecc23a87e329b7c73be9f9abde743be\n    Port:          <none>\n    Host Port:     <none>\n    Command:\n      bash\n      -ec\n      /tools/pre-install/set_kernel_params.sh\n    State:          Terminated\n      Reason:       Completed\n      Exit Code:    0\n      Started:      Thu, 15 Sep 2022 23:12:00 -0700\n      Finished:     Thu, 15 Sep 2022 23:12:00 -0700\n    Ready:          True\n    Restart Count:  0\n    Limits:\n      cpu:                500m\n      ephemeral-storage:  5Mi\n      memory:             256Mi\n    Requests:\n      cpu:                100m\n      ephemeral-storage:  1Mi\n      memory:             50Mi\n    Environment:\n      SERVICENAME:                c-db2ucluster-sample-db2u\n      POD_NAME:                   c-db2ucluster-sample-db2u-0 (v1:metadata.name)\n      POD_NAMESPACE:              openshift-operators (v1:metadata.namespace)\n      MEMORY_LIMIT:               268435456 (limits.memory)\n      SERVICE_NAME:               c-db2ucluster-sample-db2u-internal\n      DB2U_API_ENDPOINT:          c-db2ucluster-sample-db2u-internal.openshift-operators.svc:50052\n      DB2U_API_DATABASE_BACKEND:  k8s\n      DB2U_API_CONFIGMAP_NAME:    c-db2ucluster-sample-db2u-api\n      DB2U_API_KEY_FILE:          /secrets/certs/db2u-api/tls.key\n      DB2U_API_CERT_FILE:         /secrets/certs/db2u-api/tls.crt\n    Mounts:\n      /host/proc from proc (rw)\n      /mnt/blumeta0 from data (rw)\n      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-7c8cn (ro)\nContainers:\n  db2u:\n    Container ID:   cri-o://1d7f212ce718d88181369e5a4dfcd46b1929be4d1b18d64d554d1b3d0a12f666\n    Image:          icr.io/db2u/db2u@sha256:19c7cde0ff5a94091566f0b7cec85f692e8060efdf82975598d1c9ffe35ef7ec\n    Image ID:       icr.io/db2u/db2u@sha256:19c7cde0ff5a94091566f0b7cec85f692e8060efdf82975598d1c9ffe35ef7ec\n    Ports:          50000/TCP, 50001/TCP, 50052/TCP\n    Host Ports:     0/TCP, 0/TCP, 0/TCP\n    State:          Running\n      Started:      Thu, 15 Sep 2022 23:17:43 -0700\n    Ready:          True\n    Restart Count:  0\n    Limits:\n      cpu:                2\n      ephemeral-storage:  4Gi\n      memory:             4Gi\n    Requests:\n      cpu:                2\n      ephemeral-storage:  2Gi\n      memory:             4Gi\n    Readiness:            exec [su - db2inst1 -c timeout 5 ssh -p 50022 -o StrictHostKeyChecking=no db2inst1@${HOSTNAME} -- date] delay=20s timeout=10s period=20s #success=1 #failure=50\n    Environment:\n      POD:                         (v1:metadata.labels[\'name\'])\n      POD_NAME:                   c-db2ucluster-sample-db2u-0 (v1:metadata.name)\n      POD_NAMESPACE:              openshift-operators (v1:metadata.namespace)\n      MEMORY_REQUEST:             4294967296 (requests.memory)\n      MEMORY_LIMIT:               4294967296 (limits.memory)\n      CPU_LIMIT:                  2 (limits.cpu)\n      etcdoperator:               true\n      WV_RECOVERY:                partial\n      WV_HACLASS:                 UDB\n      ETCD_ENDPOINTS:             http://c-db2ucluster-sample-etcd-0.c-db2ucluster-sample-etcd:2379,http://c-db2ucluster-sample-etcd-0.c-db2ucluster-sample-etcd:2379,http://c-db2ucluster-sample-etcd-0.c-db2ucluster-sample-etcd:2379\n      ETCDCTL_API:                3\n      ETCDCTL_ENDPOINTS:          http://c-db2ucluster-sample-etcd-0.c-db2ucluster-sample-etcd:2379,http://c-db2ucluster-sample-etcd-0.c-db2ucluster-sample-etcd:2379,http://c-db2ucluster-sample-etcd-0.c-db2ucluster-sample-etcd:2379\n      SERVICE_NAME:               c-db2ucluster-sample-db2u-internal\n      DB2U_API_ENDPOINT:          c-db2ucluster-sample-db2u-internal.openshift-operators.svc:50052\n      DB2U_API_DATABASE_BACKEND:  k8s\n      DB2U_API_CONFIGMAP_NAME:    c-db2ucluster-sample-db2u-api\n      DB2U_API_KEY_FILE:          /secrets/certs/db2u-api/tls.key\n      DB2U_API_CERT_FILE:         /secrets/certs/db2u-api/tls.crt\n    Mounts:\n      /db2u/license/ from db2u-lic (ro)\n      /dev/shm from dshm (rw)\n      /mnt/bludata0 from data (rw)\n      /mnt/blumeta0 from data (rw)\n      /mnt/blumeta0/configmap/db2/db-cfg from db2dbconfig (ro)\n      /mnt/blumeta0/configmap/db2/dbm-cfg from db2dbmconfig (ro)\n      /mnt/blumeta0/configmap/db2/registry from db2regconfig (ro)\n      /mnt/blumeta0/configmap/db2u from db2uconfig (ro)\n      /mnt/local from local (rw)\n      /run from runvol (rw)\n      /secrets/certs/db2u-api from certs-db2u-api (ro)\n      /secrets/certs/wv-rest from certs-wv-rest (ro)\n      /secrets/db2instancepwd from instancepassword (ro)\n      /secrets/sshkeys/db2instusr from sshkeys-db2instusr (ro)\n      /secrets/sshkeys/db2uadm from sshkeys-db2uadm (ro)\n      /secrets/sshkeys/db2uhausr from sshkeys-db2uhausr (ro)\n      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-7c8cn (ro)\nConditions:\n  Type              Status\n  Initialized       True \n  Ready             True \n  ContainersReady   True \n  PodScheduled      True \nVolumes:\n  data:\n    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)\n    ClaimName:  c-db2ucluster-sample-share\n    ReadOnly:   false\n  dshm:\n    Type:       EmptyDir (a temporary directory that shares a pod\'s lifetime)\n    Medium:     Memory\n    SizeLimit:  1Gi\n  local:\n    Type:       EmptyDir (a temporary directory that shares a pod\'s lifetime)\n    Medium:     \n    SizeLimit:  200Mi\n  runvol:\n    Type:       EmptyDir (a temporary directory that shares a pod\'s lifetime)\n    Medium:     Memory\n    SizeLimit:  200Mi\n  proc:\n    Type:          HostPath (bare host directory volume)\n    Path:          /proc\n    HostPathType:  \n  db2uconfig:\n    Type:      ConfigMap (a volume populated by a ConfigMap)\n    Name:      c-db2ucluster-sample-db2uconfig\n    Optional:  false\n  db2regconfig:\n    Type:      ConfigMap (a volume populated by a ConfigMap)\n    Name:      c-db2ucluster-sample-db2regconfig\n    Optional:  false\n  db2dbmconfig:\n    Type:      ConfigMap (a volume populated by a ConfigMap)\n    Name:      c-db2ucluster-sample-db2dbmconfig\n    Optional:  false\n  db2dbconfig:\n    Type:      ConfigMap (a volume populated by a ConfigMap)\n    Name:      c-db2ucluster-sample-db2dbconfig\n    Optional:  false\n  sshkeys-db2uadm:\n    Type:        Secret (a volume populated by a Secret)\n    SecretName:  c-db2ucluster-sample-sshkeys-db2uadm\n    Optional:    false\n  sshkeys-db2uhausr:\n    Type:        Secret (a volume populated by a Secret)\n    SecretName:  c-db2ucluster-sample-sshkeys-db2uhausr\n    Optional:    false\n  certs-wv-rest:\n    Type:        Secret (a volume populated by a Secret)\n    SecretName:  c-db2ucluster-sample-certs-wv-rest\n    Optional:    false\n  instancepassword:\n    Type:        Secret (a volume populated by a Secret)\n    SecretName:  c-db2ucluster-sample-instancepassword\n    Optional:    false\n  db2u-lic:\n    Type:        Secret (a volume populated by a Secret)\n    SecretName:  c-db2ucluster-sample-db2u-lic\n    Optional:    false\n  sshkeys-db2instusr:\n    Type:        Secret (a volume populated by a Secret)\n    SecretName:  c-db2ucluster-sample-sshkeys-db2instusr\n    Optional:    false\n  certs-db2u-api:\n    Type:        Secret (a volume populated by a Secret)\n    SecretName:  c-db2ucluster-sample-certs-db2u-api\n    Optional:    false\n  kube-api-access-7c8cn:\n    Type:                    Projected (a volume that contains injected data from multiple sources)\n    TokenExpirationSeconds:  3607\n    ConfigMapName:           kube-root-ca.crt\n    ConfigMapOptional:       <nil>\n    DownwardAPI:             true\n    ConfigMapName:           openshift-service-ca.crt\n    ConfigMapOptional:       <nil>\nQoS Class:                   Burstable\nNode-Selectors:              <none>\nTolerations:                 node.kubernetes.io/memory-pressure:NoSchedule op=Exists\n                             node.kubernetes.io/not-ready:NoExecute op=Exists for 300s\n                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s\nEvents:\n  Type    Reason          Age   From               Message\n  ----    ------          ----  ----               -------\n  Normal  Scheduled       21m   default-scheduler  Successfully assigned openshift-operators/c-db2ucluster-sample-db2u-0 to worker2.jscp4d.cp.fyre.ibm.com\n  Normal  AddedInterface  21m   multus             Add eth0 [10.254.20.11/22] from openshift-sdn\n  Normal  Pulling         21m   kubelet            Pulling image "icr.io/db2u/db2u.tools@sha256:29dbf32fc8ac1e7cb019d0caa3cce5616ecc23a87e329b7c73be9f9abde743be"\n  Normal  Pulled          19m   kubelet            Successfully pulled image "icr.io/db2u/db2u.tools@sha256:29dbf32fc8ac1e7cb019d0caa3cce5616ecc23a87e329b7c73be9f9abde743be" in 1m7.746558946s\n  Normal  Created         19m   kubelet            Created container init-labels\n  Normal  Started         19m   kubelet            Started container init-labels\n  Normal  Pulled          19m   kubelet            Container image "icr.io/db2u/db2u.tools@sha256:29dbf32fc8ac1e7cb019d0caa3cce5616ecc23a87e329b7c73be9f9abde743be" already present on machine\n  Normal  Created         19m   kubelet            Created container init-kernel\n  Normal  Started         19m   kubelet            Started container init-kernel\n  Normal  Pulling         19m   kubelet            Pulling image "icr.io/db2u/db2u@sha256:19c7cde0ff5a94091566f0b7cec85f692e8060efdf82975598d1c9ffe35ef7ec"\n  Normal  Pulled          14m   kubelet            Successfully pulled image "icr.io/db2u/db2u@sha256:19c7cde0ff5a94091566f0b7cec85f692e8060efdf82975598d1c9ffe35ef7ec" in 5m41.798357665s\n  Normal  Created         14m   kubelet            Created container db2u\n  Normal  Started         14m   kubelet            Started container db2u\n')),(0,s.kt)("p",null,"Access to the database.    "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},'[root@api.jscp4d.cp.fyre.ibm.com util]# oc rsh c-db2ucluster-sample-db2u-0\nDefaulted container "db2u" out of: db2u, init-labels (init), init-kernel (init)\nsh-4.4$ su - db2inst1\nLast login: Fri Sep 16 06:32:47 UTC 2022\n[db2inst1@c-db2ucluster-sample-db2u-0 - Db2U db2inst1]$ db2 list db directory\n\n System Database Directory\n\n Number of entries in the directory = 1\n\nDatabase 1 entry:\n\n Database alias                       = BLUDB\n Database name                        = BLUDB\n Local database directory             = /mnt/blumeta0/db2/databases\n Database release level               = 15.00\n Comment                              =\n Directory entry type                 = Indirect\n Catalog database partition number    = 0\n Alternate server hostname            =\n Alternate server port number         =\n\n[db2inst1@c-db2ucluster-sample-db2u-0 - Db2U db2inst1]$ db2 connect to bludb\n\n   Database Connection Information\n\n Database server        = DB2/LINUXX8664 11.5.7.0\n SQL authorization ID   = DB2INST1\n Local database alias   = BLUDB\n')),(0,s.kt)("h2",{id:"misc"},"MISC."),(0,s.kt)("h3",{id:"storage-class-not-configured"},"Storage class not configured"),(0,s.kt)("p",null,"If you are deploying Db2 with a storage class, related new resource creation may be in ",(0,s.kt)("inlineCode",{parentName:"p"},"pending")," status waiting for a storage class.      "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"[root@api.jscp4d.cp.fyre.ibm.com ~]# oc get all -A |grep -i db2\nopenshift-operators                                pod/c-db2ucluster-sample-instdb-sdsj4                                 0/1     Pending     0               18m       <====\nopenshift-operators                                pod/c-db2ucluster-sample-ldap-6b84c4c556-kbdvc                        0/1     Pending     0               18m\nopenshift-operators                                pod/db2u-operator-manager-7c86548cd8-c8gkw                            1/1     Running     0               83m\nopenshift-operators                                service/c-db2ucluster-sample-ldap                  ClusterIP      172.30.121.103   <none>                                 50389/TCP                             18m\nopenshift-operators                                deployment.apps/c-db2ucluster-sample-ldap                   0/1     1            0           18m\nopenshift-operators                                deployment.apps/db2u-operator-manager                       1/1     1            1           83m\nopenshift-operators                                replicaset.apps/c-db2ucluster-sample-ldap-6b84c4c556                   1         1         0       18m\nopenshift-operators                                replicaset.apps/db2u-operator-manager-7c86548cd8                       1         1         1       83m\nopenshift-operators                    job.batch/c-db2ucluster-sample-instdb                                       0/1           18m        18m\n")),(0,s.kt)("p",null,"Then, check the history of the resource.     "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-yaml"},"[root@api.jscp4d.cp.fyre.ibm.com ~]# oc describe pod/c-db2ucluster-sample-instdb-sdsj4 \nName:           c-db2ucluster-sample-instdb-sdsj4\nNamespace:      openshift-operators\nPriority:       0\nNode:           <none>\nLabels:         app=db2ucluster-sample\n                controller-uid=ba1748f2-c4d4-4009-b994-32c60d07d6f9\n                formation_id=db2ucluster-sample\n                job-name=c-db2ucluster-sample-instdb\nAnnotations:    openshift.io/scc: openshift-operators-c-db2ucluster-sample-scc\nStatus:         Pending\nIP:             \nIPs:            <none>\nControlled By:  Job/c-db2ucluster-sample-instdb\nContainers:\n  instdb:\n    Image:      icr.io/db2u/db2u.instdb@sha256:190d61e85238665984301dea9ee81421f2cffd042f506fc44e07d52139e7c0de\n    Port:       <none>\n    Host Port:  <none>\n    Command:\n      /bin/sh\n      -c\n      /Db2wh_preinit/instdb_entrypoint.sh\n    Limits:\n      cpu:                1\n      ephemeral-storage:  5Mi\n      memory:             1Gi\n    Requests:\n      cpu:                500m\n      ephemeral-storage:  1Mi\n      memory:             1Gi\n    Environment:\n      SERVICENAME:   c-db2ucluster-sample-instdb\n      role:          instdb\n      SERVICE_NAME:  c-db2ucluster-sample\n    Mounts:\n      /mnt/blumeta0 from meta (rw)\n      /mnt/blumeta0/configmap/db2/registry from db2regconfig (ro)\n      /mnt/blumeta0/configmap/db2u from db2uconfig (ro)\n      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-szcqr (ro)\nConditions:\n  Type           Status\n  PodScheduled   False \nVolumes:\n  meta:\n    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)\n    ClaimName:  c-db2ucluster-sample-share\n    ReadOnly:   false\n  db2uconfig:\n    Type:      ConfigMap (a volume populated by a ConfigMap)\n    Name:      c-db2ucluster-sample-db2uconfig\n    Optional:  false\n  db2regconfig:\n    Type:      ConfigMap (a volume populated by a ConfigMap)\n    Name:      c-db2ucluster-sample-db2regconfig\n    Optional:  false\n  kube-api-access-szcqr:\n    Type:                    Projected (a volume that contains injected data from multiple sources)\n    TokenExpirationSeconds:  3607\n    ConfigMapName:           kube-root-ca.crt\n    ConfigMapOptional:       <nil>\n    DownwardAPI:             true\n    ConfigMapName:           openshift-service-ca.crt\n    ConfigMapOptional:       <nil>\nQoS Class:                   Burstable\nNode-Selectors:              <none>\nTolerations:                 node.kubernetes.io/memory-pressure:NoSchedule op=Exists\n                             node.kubernetes.io/not-ready:NoExecute op=Exists for 300s\n                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s\nEvents:\n  Type     Reason            Age                From               Message\n  ----     ------            ----               ----               -------\n  Warning  FailedScheduling  19m                default-scheduler  0/6 nodes are available: 6 pod has unbound immediate PersistentVolumeClaims.\n  Warning  FailedScheduling  16m (x2 over 18m)  default-scheduler  0/6 nodes are available: 6 pod has unbound immediate PersistentVolumeClaims.\n")),(0,s.kt)("p",null,"Here, above shows it failed to find PVC(PersistentVolumnClaims).         "),(0,s.kt)("p",null,"Db2 deployment tries to create a pvc but there is no storage class to be bound.    "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"[root@api.jscp4d.cp.fyre.ibm.com ~]# oc get sc -A\nNo resources found\n\n[root@api.jscp4d.cp.fyre.ibm.com ~]# oc get pvc -A\nNAMESPACE                  NAME                         STATUS    VOLUME             CAPACITY   ACCESS MODES   STORAGECLASS          AGE\nopenshift-image-registry   image-registry-storage       Bound     registry-storage   200Gi      RWX                                  5h48m\nopenshift-operators        c-db2ucluster-sample-share   Pending                                                managed-nfs-storage   21m\n")),(0,s.kt)("p",null,"Once you create a storage class, it will be bound automatically as it's polling.      "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"[root@api.jscp4d.cp.fyre.ibm.com util]# oc get pvc -A\nNAMESPACE                  NAME                         STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS          AGE\nopenshift-image-registry   image-registry-storage       Bound    registry-storage                           200Gi      RWX                                  5h55m\nopenshift-operators        c-db2ucluster-sample-share   Bound    pvc-7ae3db0d-d89e-42b1-ac16-446a15a8f956   100Gi      RWX            managed-nfs-storage   28m   <==========\nopenshift-operators        test-claim                   Bound    pvc-b763cb5b-7c0c-4bdd-822f-d4d6a601dd93   1Mi        RWX            managed-nfs-storage   48s\n")),(0,s.kt)("p",null,"Then, the pod status makes processes.   "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"[root@api.jscp4d.cp.fyre.ibm.com util]# oc get pod -A |grep -i db2\nopenshift-operators                                c-db2ucluster-sample-instdb-sdsj4                                 0/1     ContainerCreating   0               30m\nopenshift-operators                                c-db2ucluster-sample-ldap-6b84c4c556-kbdvc                        1/1     Running             0               30m\nopenshift-operators                                db2u-operator-manager-7c86548cd8-c8gkw                            1/1     Running             0               94m\n\n")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-yaml"},'[root@api.jscp4d.cp.fyre.ibm.com util]# oc describe pod c-db2ucluster-sample-instdb-sdsj4 \nName:         c-db2ucluster-sample-instdb-sdsj4\nNamespace:    openshift-operators\nPriority:     0\nNode:         worker2.jscp4d.cp.fyre.ibm.com/10.17.29.5\nStart Time:   Thu, 15 Sep 2022 23:06:25 -0700\nLabels:       app=db2ucluster-sample\n              controller-uid=ba1748f2-c4d4-4009-b994-32c60d07d6f9\n              formation_id=db2ucluster-sample\n              job-name=c-db2ucluster-sample-instdb\n...\nEvents:\n  Type     Reason            Age                From               Message\n  ----     ------            ----               ----               -------\n  Warning  FailedScheduling  30m                default-scheduler  0/6 nodes are available: 6 pod has unbound immediate PersistentVolumeClaims.\n  Warning  FailedScheduling  27m (x2 over 29m)  default-scheduler  0/6 nodes are available: 6 pod has unbound immediate PersistentVolumeClaims.\n  Normal   Scheduled         3m51s              default-scheduler  Successfully assigned openshift-operators/c-db2ucluster-sample-instdb-sdsj4 to worker2.jscp4d.cp.fyre.ibm.com\n  Normal   AddedInterface    3m49s              multus             Add eth0 [10.254.20.9/22] from openshift-sdn\n  Normal   Pulling           3m49s              kubelet            Pulling image "icr.io/db2u/db2u.instdb@sha256:190d61e85238665984301dea9ee81421f2cffd042f506fc44e07d52139e7c0de"\n  Normal   Pulled            25s                kubelet            Successfully pulled image "icr.io/db2u/db2u.instdb@sha256:190d61e85238665984301dea9ee81421f2cffd042f506fc44e07d52139e7c0de" in 3m23.54317268s\n  Normal   Created           25s                kubelet            Created container instdb\n  Normal   Started           25s                kubelet            Started container instdb\n')))}u.isMDXComponent=!0},2e3:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db21-55655b76cd55a24f3c86b10aa0d29869.png"},5566:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db22-a9a00137e554ae3b80846b3e3da8a5ae.png"},9157:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db23-d1791152a5b79d9c5e4e7eeeeec6af5b.png"},2149:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db24-5ea64717bac009a0fcd68e069249af4c.png"},2932:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db25-b226f950c2b5da3fe2eb7fc5c1ca37e5.png"},5852:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db26-7b71ba33c55c5b00239c8889599f3d93.png"},7918:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db27-0726641573a58b1cecb33713cb87e762.png"},2330:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db2op1-042c6d10510c7d7eba1b52abf8a1e464.png"},4730:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db2op2-8bba2ee40d0f24ea0e675c43d275e289.png"},227:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db2op3-1599a4edbaa1bc02e8392129d3b3b15d.png"},277:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db2op4-75bd03f33a1dd2c5bd51baddc29212e0.png"},8585:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db2op5-f5a32f2fecc74705a65f54f425c40396.png"},8935:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db2op6-2cc383d3c6677372bb21fd6f8b5c061d.png"},1212:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db2op7-2fd5857b26d1c8d2f028b20bed6df09d.png"},9391:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db2op8-b17670c28de6c84b62c5e0a2b562f664.png"},5873:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_db2op9-ecf89dbbe2b7126a3dcbaf1ba5cb2324.png"},7920:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_ibmop-fdbf2af34d2fb1cc52d7b278755c461d.png"},3726:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_ibmop2-712fec3c134981d72802d30dd88edd57.png"},3525:function(e,n,t){n.Z=t.p+"assets/images/db2ocp_ibmop_catalog-4e5c0e67a20ee878b469f6dbfa7ecfd6.png"}}]);